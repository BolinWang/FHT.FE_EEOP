webpackJsonp([30],{"+zLD":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"model-search clearfix"},[a("el-form",{attrs:{size:"small",inline:!0,model:e.formData}},[a("el-select",{staticClass:"item-select",staticStyle:{width:"120px"},attrs:{size:"small",placeholder:"审核状态",clearable:""},model:{value:e.formData.status,callback:function(t){e.$set(e.formData,"status",t)},expression:"formData.status"}},e._l(e.auditOptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),a("el-select",{staticClass:"item-select filter-item",staticStyle:{width:"130px"},attrs:{size:"small",placeholder:"机构类型",clearable:""},model:{value:e.formData.type,callback:function(t){e.$set(e.formData,"type",t)},expression:"formData.type"}},e._l(e.typeOptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),a("el-input",{staticClass:"filter-item",staticStyle:{width:"180px"},attrs:{size:"small",placeholder:"请输入机构名称"},nativeOn:{keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.searchParam(t)}},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}}),e._v(" "),a("el-input",{staticClass:"filter-item",staticStyle:{width:"180px"},attrs:{size:"small",placeholder:"请输入城市管家"},nativeOn:{keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.searchParam(t)}},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}}),e._v(" "),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",size:"small",icon:"el-icon-search"},nativeOn:{click:function(t){e.searchParam(t)}}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{plain:"",size:"small",icon:"el-icon-remove-outline"},nativeOn:{click:function(t){e.clearForm(t)}}},[e._v("清空")]),e._v(" "),a("el-button",{staticClass:"right",attrs:{type:"primary",size:"small"},nativeOn:{click:function(t){e.layer_sign=!0}}},[e._v("标记为飞虎队")]),e._v(" "),a("el-button",{staticClass:"right",attrs:{type:"primary",size:"small"},nativeOn:{click:function(t){e.layer_card=!0}}},[e._v("银行卡绑定")])],1)],1),e._v(" "),a("GridUnit",{ref:"refGridUnit",attrs:{columns:e.colModels,url:e.url,formOptions:e.formData,dataMethod:e.method,height:e.tableHeight},scopedSlots:e._u([{key:"slot_status",fn:function(t){return[3==t.row.status?a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",[e._v("不通过原因: "+e._s(t.row.rejectRemark))]),e._v(" "),a("div",{attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{type:e._f("renderStatusType")(t.row.status)}},[e._v("\n            "+e._s(e._f("renderStatusValue")(t.row.status))+"\n          ")])],1)]):a("el-tag",{attrs:{type:e._f("renderStatusType")(t.row.status)}},[e._v("\n        "+e._s(e._f("renderStatusValue")(t.row.status))+"\n      ")])]}},{key:"handle",fn:function(t){return[a("el-button",{attrs:{type:"primary",icon:"el-icon-view",size:"small"},on:{click:function(a){e.showDetail(t.$index,t.row)}}},[e._v("\n        查看\n      ")])]}}])}),e._v(" "),a("div",{staticClass:"dialog-info"},[a("el-dialog",{attrs:{model:e.data_detail,title:e._f("typeFilter")(e.data_detail.type),visible:e.layer_showInfo},on:{"update:visible":function(t){e.layer_showInfo=t},close:e.dialogClose}},[a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[1==e.data_detail.status?a("el-button",{attrs:{size:"small"},on:{click:function(t){e.layer_showInfo=!1}}},[e._v("取 消")]):a("el-button",{attrs:{size:"small"},on:{click:function(t){e.layer_showInfo=!1}}},[e._v("关闭")]),e._v(" "),1==e.data_detail.status?a("el-button",{attrs:{type:"primary",size:"small"},nativeOn:{click:function(t){e.saveAuditResult(t)}}},[e._v("确 定")]):e._e()],1)])],1),e._v(" "),a("div",{staticClass:"dialog-info"},[a("el-dialog",{attrs:{title:"标记为飞虎队",visible:e.layer_sign,width:"400px"},on:{"update:visible":function(t){e.layer_sign=t},close:e.dialogSign}},[a("el-form",{ref:"signForm",attrs:{model:e.signForm,size:"mini","status-icon":"",rules:e.rules,"label-width":"150px"}},[a("el-form-item",{attrs:{label:"组织的主账号",prop:"mobile"}},[a("el-input",{attrs:{placeholder:"请输入手机号"},model:{value:e.signForm.mobile,callback:function(t){e.$set(e.signForm,"mobile",t)},expression:"signForm.mobile"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"设置出房服务费率",prop:"spiltRate"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.signForm.spiltRate,callback:function(t){e.$set(e.signForm,"spiltRate",t)},expression:"signForm.spiltRate"}},[a("template",{attrs:{slot:"append"},slot:"append"},[e._v("%")])],2)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.layer_sign=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.signSaveData}},[e._v("确 定")])],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-info"},[a("el-dialog",{attrs:{title:"银行卡绑定",visible:e.layer_card,width:"600px"},on:{"update:visible":function(t){e.layer_card=t},close:e.dialogCard}},[a("el-form",{ref:"cardForm",attrs:{model:e.cardForm,size:"mini","auto-complete":"off","status-icon":"",rules:e.rules,"label-width":"100px"}},[a("div",{staticClass:"clearfix"},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{attrs:{disabled:""},model:{value:e.cardForm.userName,callback:function(t){e.$set(e.cardForm,"userName",t)},expression:"cardForm.userName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"手机号码"}},[a("el-input",{attrs:{disabled:""},model:{value:e.cardForm.mobile,callback:function(t){e.$set(e.cardForm,"mobile",t)},expression:"cardForm.mobile"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"clearfix"},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"身份证号"}},[a("el-input",{attrs:{disabled:""},model:{value:e.cardForm.cardNo,callback:function(t){e.$set(e.cardForm,"cardNo",t)},expression:"cardForm.cardNo"}})],1)],1),e._v(" "),a("el-tag",{staticStyle:{"margin-left":"10px"},attrs:{type:"success"}},[e._v("已实名")])],1),e._v(" "),a("div",{staticClass:"clearfix"},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"银行卡类型"}},[a("el-select",{staticClass:"item-select",staticStyle:{width:"100%"},attrs:{size:"small"},model:{value:e.cardForm.cardType,callback:function(t){e.$set(e.cardForm,"cardType",t)},expression:"cardForm.cardType"}},[a("el-option",{attrs:{label:"个人账户",value:1}}),e._v(" "),a("el-option",{attrs:{label:"对公账户",value:2}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"开户人姓名"}},[a("el-input",{model:{value:e.cardForm.userName,callback:function(t){e.$set(e.cardForm,"userName",t)},expression:"cardForm.userName"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"clearfix"},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"银行卡号"}},[a("el-input",{model:{value:e.cardForm.userCardNo,callback:function(t){e.$set(e.cardForm,"userCardNo",t)},expression:"cardForm.userCardNo"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[1===e.cardForm.cardType?a("el-form-item",{attrs:{label:"开户人身份证","label-width":"110px"}},[a("el-input",{model:{value:e.cardForm.userName,callback:function(t){e.$set(e.cardForm,"userName",t)},expression:"cardForm.userName"}})],1):a("el-form-item",{attrs:{label:"开户银行"}},[a("el-select",{staticClass:"item-select",staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"请选择"},model:{value:e.cardForm.bankName,callback:function(t){e.$set(e.cardForm,"bankName",t)},expression:"cardForm.bankName"}},e._l(e.bankList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:t}})}))],1)],1)],1)]),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.layer_card=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.cardSaveData}},[e._v("确 定")])],1)],1)],1)],1)},staticRenderFns:[]}},"6Pxl":function(e,t,a){var l=a("Alxp")(a("xI9/"),a("+zLD"),function(e){a("OzdR")},null,null);e.exports=l.exports},OzdR:function(e,t,a){var l=a("WA2I");"string"==typeof l&&(l=[[e.i,l,""]]),l.locals&&(e.exports=l.locals);a("8bSs")("54bbb276",l,!0)},WA2I:function(e,t,a){(e.exports=a("BkJT")(!1)).push([e.i,".model-search .filter-item{margin-left:10px}.item-select{width:150px}.el-popover{max-width:500px}",""])},"xI9/":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("cAgV"),r=a("U4Ig"),s=a.n(r),i=a("0xDb"),o=(a("pFO2"),a("ms7A")),n=a("E4LH");t.default={name:"auditFhd",directives:{waves:l.a},components:{GridUnit:s.a},filters:{typeFilter:function(e){return["个人","企业"][e-1]||""},renderStatusType:function(e){return{1:"info",2:"success",3:"danger"}[e]||"success"},renderStatusValue:function(e){return["待审核","审核通过","审核不通过"][e-1]||"待审核"}},data:function(){return{typeOptions:[{value:1,label:"个人"},{value:2,label:"企业"}],auditOptions:[{value:1,label:"未审核"},{value:3,label:"审核不通过"},{value:2,label:"审核通过"}],bankList:{"01000000":"邮储银行","01020000":"工商银行","01030000":"农业银行","01040000":"中国银行","01050000":"建设银行","03010000":"交通银行","03020000":"中信银行","03030000":"光大银行","03040000":"华夏银行","03050000":"民生银行","03060000":"广发银行","03070000":"平安银行","03080000":"招商银行","03090000":"兴业银行","03100000":"浦发银行","03160000":"浙商银行","04012900":"上海银行","04031000":"北京银行","04083320":"宁波银行","04233310":"杭州银行","04256020":"东莞银行","04375850":"珠海华润","04791920":"包商银行","05083000":"江苏银行",64135810:"广州银行",64895910:"广东南粤"},formData:{name:"",type:"",status:""},signForm:{mobile:"",spiltRate:""},cardForm:{mobile:"",userName:"",userCardNo:"",cardType:1},rules:{mobile:[{required:!0,trigger:"blur",validator:function(e,t,a){Object(n.a)(t)?a():a(new Error("请输入正确的手机号"))}}],name:[{required:!0,trigger:"blur",validator:function(e,t,a){t?a():a(new Error("请输入姓名"))}}],spiltRate:[{required:!0,trigger:"blur",validator:function(e,t,a){/^\d+(?:.\d{1,2})?$/.test(t)&&t<=100?a():a(new Error("费率为0到100,最多保留2位小数"))}}],userName:[{required:!0,trigger:"blur",message:"请输入开户人姓名"}],userCardNo:[{required:!0,trigger:"blur",message:"请输入银行卡号"}]},searchParams:{},saveAuditParam:{},dateTime:[],colModels:[{prop:"id",label:"审核号",width:80},{prop:"gmtCreate",label:"申请时间",width:180},{prop:"name",label:"机构名称"},{prop:"type",label:"机构类型",width:100,render:function(e){return["个人","企业"][e.type-1]||""}},{prop:"name",label:"城市管家"},{slotName:"slot_status",label:"审核状态",width:150},{prop:"gmtModified",label:"审核时间",width:140,type:"formatTime",toolTip:!0},{label:"操作",slotName:"handle",fixed:"right",width:95}],tableHeight:300,data_detail:{},url:"/market/audit/",method:"list",layer_showInfo:!1,layer_sign:!1,layer_card:!1}},mounted:function(){var e=this;this.$nextTick(function(){var t=e.$refs.refGridUnit.$el.offsetTop||140,a=document.body.clientHeight-t-64-20;e.tableHeight=a>300?a:300,window.onresize=function(){return a=document.body.clientHeight-t-64-20,void(e.tableHeight=e.tableHeight=a>300?a:300)}})},computed:{tableStyle:function(){return{width:"100%",height:this.tableHeight+"px"}}},methods:{searchParam:function(){this.$refs.refGridUnit.searchHandler()},clearForm:function(){this.formData={},this.$refs.refGridUnit.searchHandler({type:"clear",data:{}})},showDetail:function(e,t){this.data_detail=Object(i.c)(t),this.layer_showInfo=!0},dialogClose:function(){this.data_detail={}},saveAuditResult:function(){},signSaveData:function(){var e=this;this.$refs.signForm.validate(function(t){if(!t)return console.log("error submit!!"),!1;Object(o.h)(Object(i.c)(e.signForm)).then(function(t){e.$message.success("标记成功"),e.layer_sign=!1}).catch()})},dialogSign:function(){this.signForm={mobile:"",spiltRate:""},this.$refs.signForm.clearValidate()},cardSaveData:function(){var e=this;this.$refs.cardForm.validate(function(t){if(!t)return console.log("error submit!!"),!1;Object(o.b)(Object(i.c)(e.cardForm)).then(function(t){e.$message.success("银行卡绑定成功"),e.layer_card=!1}).catch()})},dialogCard:function(){this.cardForm={cardType:1},this.$refs.cardForm.clearValidate()},signContactor:function(e,t){var a=this;t.requestStatus=2,saveUserRequestApi([t]).then(function(e){a.getGridData(a.pageItems),a.$notify({title:"成功",message:"标记成功",type:"success",duration:2e3})})}}}}});